void 0===TCB_Front.js_modules.country&&TCB_Front.setModuleLoadedStatus("country",!1),(t=>{if(TCB_Front.isModuleLoaded("country"))return;const e={init(t){e.setupDefaultValue(t),e.buildAutocomplete(t)},onlyOneCountry:t=>"include"===t.attr("data-display-type")&&1===JSON.parse(t.attr("data-display-list")).length,setupDefaultValue(e){const a=t(e),o=a.find("input");o.attr("default-value",o.val()),o.attr("placeholder",o.attr("data-placeholder"));const i=a.find(".tve-lg-dropdown-trigger").find(".tve-disabled-text-inner"),n=a.closest(".tve_lead_generated_inputs_container").find(`.thrv_text_element[data-label-for="${a.attr("data-label")}"]`);if(this.onlyOneCountry(a)){const t=JSON.parse(a.attr("data-display-list"))[0].name,e="1"===a.attr("data-display-hide");n.removeClass("tve-hide-country"),a.removeClass("tve-hide tve-disabled"),o.val(t),o.attr("default-value",t),i.text(t),e?(n.addClass("tve-hide-country"),a.addClass("tve-hide-country")):a.addClass("tve-disabled")}},afterInit(e){const a=t(e),o=a.find("input");a.on("mousedown",e=>{const a=t(e.target);if(a.hasClass("ui-autocomplete-input")){if(a.autocomplete("widget").is(":visible"))return void a.autocomplete("close");t(e.currentTarget).trigger("blur"),a.autocomplete("search",""),a.trigger("focus")}}),o.on("focus",e=>{const a=t(e.target);a.autocomplete("widget").is(":visible")?a.autocomplete("close"):a.autocomplete("search","")})},buildAutocomplete(a){const o=t(a),i=o.find("input"),n=o.find(".tve-lg-dropdown-list");i.on("input.tve",function(){const e=t(this);let a=null;e.val()&&(a=o.find(`.tve-lg-country-list [data-value="${i.val()}"]`),a=a.length?a:null),window.setTimeout(()=>{e.trigger("changevalue.tveDropdown",a)},0)}),i.trigger("input.tve"),o.find(".tve-lg-dropdown-list").remove(),i.autocomplete({source:e.buildData(n),appendTo:o,minLength:0,classes:{"ui-autocomplete":"tve-lg-dropdown-list tve-lg-country-list"},create(){t(this).css({opacity:0,padding:o.css("padding"),border:0,background:"transparent",color:o.find(".tve-disabled-text-inner").css("color"),font:o.find(".tve-disabled-text-inner").css("font"),letterSpacing:o.find(".tve-disabled-text-inner").css("letter-spacing"),textTransform:o.find(".tve-disabled-text-inner").css("text-transform")}),t(this).autocomplete("widget").attr("data-selector",`${o.attr("data-selector")} .tve-lg-dropdown-list:not(.tcb-excluded-from-group-item)`),t(this).data("ui-autocomplete")._renderItem=function(e,a){return t('<li class="tve-lg-dropdown-option">').data("item.autocomplete",a).attr("data-value",a.label).attr("data-code",a.code).attr("data-label-value",1).attr("data-custom-option",1).attr("data-selector",`${o.attr("data-selector")} .tve-lg-dropdown-list:not(.tcb-excluded-from-group-item) .tve-lg-dropdown-option:not(.tcb-excluded-from-group-item)`).append(`<span class="tve-input-option-text tcb-plain-text">${a.label}</span>`).appendTo(e)}},open(){t(this).siblings(".tve-lg-dropdown-trigger").find(".tve-disabled-text-inner").css({opacity:0}),t(this).css({opacity:1}),t(this).autocomplete("widget").css({top:"",left:"",width:"",display:""})},close(){const a=t(this).val();e.buildData(n).some(t=>t.label.toLowerCase()===a.toLowerCase())||t(this).trigger("changevalue.tveDropdown",null),t(this).parent().trigger("focus")},select(e,a){t(this).val(a.item.label),t(this).parent().find(".tve-disabled-text-inner").text(a.item.label),t(this).trigger("changevalue.tveDropdown",e.currentTarget.querySelector(`[data-code="${a.item.code}"]`))}}),i.on("blur",function(){t(this).parent().removeClass("tve-state-expanded"),t(this).parent().find(".tve-disabled-text-inner").text(t(this).val()||t(this).attr("data-placeholder")),t(this).siblings(".tve-lg-dropdown-trigger").find(".tve-disabled-text-inner").css({opacity:1}),t(this).css({opacity:0})})},buildData(e){const a=[],o=e.find(".tve-lg-dropdown-option");return t.each(o,(e,o)=>{const i=t(o).attr("data-value"),n=t(o).attr("data-code");""!==i&&a.push({label:i,code:n})}),a},moveA11yElementsTo(e,a){const o=t(a),i=t("body").find(".ui-helper-hidden-accessible");i.length&&(i.addClass("screen-reader-text"),o.append(i.get(e)))}};t(window).on("tcb_after_dom_ready",()=>{t(".tve_lg_country").each(function(t){TCB_Front.Utils.isEditorPage()||(e.init(this),e.afterInit(this),e.moveA11yElementsTo(t,this))})}),TCB_Front.setModuleLoadedStatus("country",!0)})(ThriveGlobal.$j);